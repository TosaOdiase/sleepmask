@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Reset - must come before Tailwind */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Reset margins and padding for common elements */
body, h1, h2, h3, h4, h5, h6, p, div, section, article, aside, nav, header, footer, main {
  margin: 0;
  padding: 0;
}

/* Override reset for highlight elements */
.highlight-animate,
.highlight-animate-intro,
.highlight-animate-summary,
.highlight-animate-stats {
  margin: 0 0.3rem 0.3rem 0.3rem !important;
  padding: 0.1rem 0.4rem !important;
}

/* Global background - transparent to let gradient show through */
html, body {
  background: #253F4A;
  background-color: #253F4A;
  overflow-x: hidden;
  width: 100%;
  max-width: 100%;
  overflow-y: auto;
  scroll-behavior: smooth;
  margin: 0;
  padding: 0;
  /* Slow down scrolling */
  scroll-behavior: smooth;
  scroll-timeline: smooth;
}

/* Hide scrollbar for webkit browsers (Chrome, Safari, Edge) */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for Firefox */
html {
  scrollbar-width: none;
}

/* Hide scrollbar for IE/Edge */
html {
  -ms-overflow-style: none;
}

/* Ensure content still scrolls but scrollbar is hidden */
html, body {
  -webkit-overflow-scrolling: touch;
}

/* Hide scrollbar globally for all elements */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Edge */
}

/* Additional scrollbar hiding for specific elements */
.hero, .intro-section, .sleepmask-section, .app-section, 
.app-section-extended, .app-section-statistics, .coming-soon-section,
.science-section, .science-4-panel-section, .science-summary-page-section,
.blog-section, .team-section, .meet-the-team-section {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.hero::-webkit-scrollbar, .intro-section::-webkit-scrollbar, 
.sleepmask-section::-webkit-scrollbar, .app-section::-webkit-scrollbar,
.app-section-extended::-webkit-scrollbar, .app-section-statistics::-webkit-scrollbar,
.coming-soon-section::-webkit-scrollbar, .science-section::-webkit-scrollbar,
.science-4-panel-section::-webkit-scrollbar, .science-summary-page-section::-webkit-scrollbar,
.blog-section::-webkit-scrollbar, .team-section::-webkit-scrollbar,
.meet-the-team-section::-webkit-scrollbar {
  display: none;
}

/* Horizontal scroll container styles */
.hide-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Smooth horizontal scrolling */
.horizontal-scroll {
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  overflow-x: auto;
  overflow-y: hidden;
}

/* Force body to start at top */
body {
  position: relative;
  top: 0;
  left: 0;
  right: 0;
}

/* Prevent negative scroll positions */
html {
  scroll-padding-top: 0;
  scroll-padding-left: 0;
  scroll-padding-right: 0;
  scroll-padding-bottom: 0;
}

/* Ensure first section starts at top */
.hero:first-child {
  margin-top: 0;
  padding-top: 0;
}

/* Prevent scrolling up beyond the top of the page */
html {
  scroll-padding-top: 0;
}

/* Ensure hero section is anchored at the top */
.hero {
  position: relative;
  z-index: 1000;
}

/* Allow normal overscroll behavior */
html, body {
  overscroll-behavior: auto;
}

/* Remove any default white backgrounds from root elements */
#__next, main, #root, .app {
  background: transparent;
  background-color: transparent;
  overflow-x: hidden;
  width: 100%;
  max-width: 100%;
}

/* Highlight Animation Styles */
.highlight-animate,
.highlight-animate-intro,
.highlight-animate-summary,
.highlight-animate-stats,
.highlight-animate-extended {
  position: relative;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform-origin: center;
  display: inline-block;
  line-height: 1.4;
}

.highlight-animate::before,
.highlight-animate-intro::before,
.highlight-animate-summary::before,
.highlight-animate-stats::before,
.highlight-animate-extended::before {
  content: '';
  position: absolute;
  top: -0.05rem;
  left: -0.1rem;
  right: -0.1rem;
  bottom: -0.05rem;
  background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
  border-radius: 6px;
  opacity: 0;
  transform: scaleX(0);
  transform-origin: left;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  z-index: -1;
}

.highlight-animate.in-view::before,
.highlight-animate-intro.in-view::before,
.highlight-animate-summary.in-view::before,
.highlight-animate-stats.in-view::before,
.highlight-animate-extended.in-view::before {
  opacity: 1;
  transform: scaleX(1);
}

.highlight-animate.in-view,
.highlight-animate-intro.in-view,
.highlight-animate-summary.in-view,
.highlight-animate-stats.in-view,
.highlight-animate-extended.in-view {
  transform: scale(1.05);
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  margin: 0 0.4rem 0.4rem 0.4rem !important;
  padding: 0.15rem 0.6rem !important;
  line-height: 1.6;
}

/* Coming Soon Underline Styles */
.highlight-animate-coming-soon {
  position: relative;
  display: inline-block;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.highlight-animate-coming-soon::after {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 0;
  width: 0;
  height: 3px;
  background: linear-gradient(90deg, #FFFFFF, #F4E4BC);
  transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border-radius: 2px;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.6);
}

.highlight-animate-coming-soon.in-view::after {
  width: 100%;
}

.highlight-animate-coming-soon.in-view {
  transform: scale(1.02);
  text-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
}

/* Section-specific backgrounds - using gradient colors */

/* Hero section background - gradient to intro */
.hero {
  background: linear-gradient(to bottom, #253F4A, #253F4A);
}

/* Intro section background - gradient to app section */
.intro-section {
  background: linear-gradient(to bottom, #253F4A, #365563);
}

/* Sleepmask section background - gradient to app */
.sleepmask-section {
  background: transparent;
}

/* App section background - gradient to app extended */
.app-section {
  background: linear-gradient(to bottom, #365563, #446879);
}

/* App section extended background - gradient to app statistics */
.app-section-extended {
  background: linear-gradient(to bottom, #446879, #537d90);
}

/* App section statistics background - gradient to science */
.app-section-statistics {
  background: linear-gradient(to bottom, #537d90, #779eb2);
}

/* Coming soon section background - gradient */
.coming-soon-section {
  background: linear-gradient(to bottom, #608da2, #779eb2);
}

/* Science section background - gradient to science 4 panel */
.science-section {
  background: linear-gradient(to bottom, #779eb2, #8eb1c2);
}

/* Science 4 panel section background - same as science summary (no gradient) */
.science-4-panel-section {
  background: #8eb1c2;
}

/* Science summary page background - gradient to meet team */
.science-summary-page-section {
  background: linear-gradient(to bottom, #8eb1c2, #acc8d7);
}

/* Blog section background - darkest teal */
.blog-section {
  background: #253F4A;
}

/* Meet the team section background - very light blue */
.meet-the-team-section {
  background: #acc8d7;
}

/* Spacer classes for gradient flow */
.spacer-1 {
  height: 200px;
  background: #365563;
}

.spacer-2 {
  height: 200px;
  background: #446879;
}

.spacer-3 {
  height: 200px;
  background: #537d90;
}

.spacer-4 {
  height: 200px;
  background: #779eb2;
}

.spacer-5 {
  height: 5px;
  background: #8eb1c2;
}

.spacer-6 {
  height: 200px;
  background: #8eb1c2;
}

.spacer-7 {
  height: 200px;
  background: #acc8d7;
}

/* Animated Underlines for Science Component */
.highlighted-phrase {
  position: relative;
  display: inline-block;
}

.highlighted-phrase::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, #F4E4BC, #E6D4A3);
  transition: width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border-radius: 1px;
  box-shadow: 0 0 8px rgba(244, 228, 188, 0.4);
}

.highlighted-phrase:hover::after {
  width: 100%;
}

/* Animate underlines on scroll */
.science-section .highlighted-phrase::after {
  animation: slideInUnderline 0.3s ease-out;
  animation-delay: calc(var(--phrase-index, 0) * 0.3s + 2.5s);
  animation-fill-mode: forwards;
}

@keyframes slideInUnderline {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

/* Page Transition Animation Styles */
.rise-up-animation {
  animation: riseUp 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes riseUp {
  from {
    opacity: 0;
    transform: translateY(100px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Ensure sections are properly positioned for animations */
#intro-section,
#app-section,
#science,
#meet-the-team {
  position: relative;
  z-index: 1;
  opacity: 1;
  transform: translateY(0);
}

/* Page transition overlay styles */
.page-transition-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 9999;
  pointer-events: none;
  transition: backdrop-filter 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}